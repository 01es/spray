{"body": "<div class=\"section\" id=\"httpdialog\">\n<span id=\"id1\"></span><h1>HttpDialog</h1>\n<p>As a thin layer on top of the rather low-level <a class=\"reference internal\" href=\"../http-client/#httpclient\"><em>HttpClient</em></a> <em>spray-can</em> provides a convenience mini-DSL that makes\nworking with HTTP connections a bit easier. An <tt class=\"docutils literal\"><span class=\"pre\">HttpDialog</span></tt> encapsulates an exchange of HTTP messages over the course\nof <em>one single connection</em> and provides a fluent API for constructing a &#8220;chain&#8221; of scheduled tasks, which define what to\ndo over the course of the message exchange with the server.</p>\n<p>It is probably best explained by example.</p>\n<p>The following snippet shows a minimal, single-request <tt class=\"docutils literal\"><span class=\"pre\">HttpDialog</span></tt>:</p>\n<p>The dialog opens a connection to a given host/port, fires one request and returns a future on the response. The\nconnection is automatically closed after the response has come in.</p>\n<p>An <tt class=\"docutils literal\"><span class=\"pre\">HttpDialog</span></tt> can also be used to fire several requests across a connection. Here is a non-pipelined two-request\ndialog, this time using the <tt class=\"docutils literal\"><span class=\"pre\">RequestBuilding</span></tt> helper from <a class=\"reference internal\" href=\"../../spray-httpx/#spray-httpx\"><em>spray-httpx</em></a>:</p>\n<p>Two requests are fired across the connection, with the second only going out after the response to the first one\nhas come in. The result is now a future on several responses.</p>\n<p>Let&#8217;s look at a pipelined three-request dialog:</p>\n<p>This snippet fires three requests in a row across the connection, without waiting for responses in between. The result\nis again a future on several responses.</p>\n<p>You can create &#8220;request -&gt; response -&gt; request&#8221; dialogs like this:</p>\n<p>Here the second request is built using the response to the first. The result is a future on a single response, namely\nthe last one.</p>\n<p>As you can see an <tt class=\"docutils literal\"><span class=\"pre\">HttpDialog</span></tt> can be convenient and light-weight tool to quickly fire a few requests. However, it\nonly works with one single HTTP connection and doesn&#8217;t support a higher-level features (like redirection following).\nIf you need something more powerful check out the <a class=\"reference internal\" href=\"../../spray-client/#spray-client\"><em>spray-client</em></a> module.</p>\n</div>\n", "display_toc": false, "title": "HttpDialog", "sourcename": "", "customsidebar": null, "current_page_name": "documentation/spray-can/http-dialog", "next": {"link": "../examples/", "title": "Examples"}, "rellinks": [["genindex", "General Index", "I", "index"], ["documentation/spray-can/examples", "Examples", "N", "next"], ["documentation/spray-can/http-client", "HttpClient", "P", "previous"]], "meta": {}, "parents": [{"link": "../../", "title": "Documentation"}, {"link": "../", "title": "spray-can"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">HttpDialog</a></li>\n</ul>\n", "prev": {"link": "../http-client/", "title": "HttpClient"}, "metatags": ""}